angular.module("gthiveApp",["app.routes","mainCtrl","buildingService","uiGmapgoogle-maps"]).config(["uiGmapGoogleMapApiProvider",function(o){o.configure({v:"3.20",libraries:"geometry,visualization"})}]),angular.module("app.routes",["ngRoute"]).config(["$routeProvider","$locationProvider",function(o,e){o.when("/",{templateUrl:"app/views/pages/home.html"}),e.html5Mode(!0)}]),angular.module("mainCtrl",["uiGmapgoogle-maps","buildingService"]).controller("mainController",["$scope","uiGmapGoogleMapApi","Building","$log",function(o,e,i,n){var t=this;t.processing=!0,o.markers=[],o.selectedMarker={},o.windowOptions={show:!1},o.mapOptions={disableDefaultUI:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels",stylers:[{visibility:"on"}]}]},o.closeClick=function(){o.windowOptions.show=!1},e.then(function(e){return o.map={center:{latitude:33.7753,longitude:-84.3975},zoom:16,options:o.mapOptions},i.all()}).then(function(e){t.buildings=e.data;for(var i=function(e,i){var t={id:e,coords:{latitude:i.latitude,longitude:i.longitude},options:{title:i.name,labelContent:i.abbreviation}};return i.occupancy<=40?t.icon="http://maps.google.com/mapfiles/ms/icons/green-dot.png":i.occupancy<=80?t.icon="http://maps.google.com/mapfiles/ms/icons/yellow-dot.png":t.icon="http://maps.google.com/mapfiles/ms/icons/red-dot.png",t.onClick=function(){n.log(t.options.title+" clicked!"),o.$apply(function(){o.selectedMarker=t,o.windowOptions.show=!0})},t},l=0;l<t.buildings.length;l++)o.markers.push(i(l,t.buildings[l]))})["catch"](function(){n.log("Error occurred, see logs.")}).then(function(){t.processing=!1})}]),angular.module("buildingService",[]).factory("Building",["$http","$log",function(o,e){var i={};return i.all=function(){return o.get("/api/buildings")},i.get=function(e){return o.get("/api/buildings/"+e)},i}]);